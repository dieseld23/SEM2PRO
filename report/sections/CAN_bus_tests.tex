%!TEX root = ../main.tex

\subsection{CAN Bus Tests}
With the CAN controller available on the PS of the Zybo, the CAN bus will be tested to determine the transmission abilities of the network.
The transceivers are able to work at up to 8 Mb/s, while the CAN controllers on the Zybo only guarantee functionality up to 1 Mb/s. 
As the final implementation should be done in PL, there is nothing preventing the controller working at 8 Mb/s -- the FPGA can easily produce and interpret signals up to or beyond 8 Mb/s.

\paragraph{Latency tests}
For this test, only two Zybos are needed.
One node prepares a frame for transmission, then sets a GPIO pin high.
The other node will then wait for the full message frame to be received, and then set its GPIO pin high.
Using an oscilloscope, it is possible to measure the time it takes to send a message.\\

The test needs to be run for the largest and smallest frames, that is one with 8 bytes of data, and one without data. 
The messages will be constructed, so that bit stuffing doesn't occur by writing 0x55 or 0xAA for each byte. 

\paragraph{Bandwidth}
This will be calculated, as the faster controllers are not available.
Bandwidth is considering the amount of net data being transmitted per unit time, when excluding the overhead.
Bandwidth will be calculated for 8 byte frames, and bit stuffing will be omitted.\\

The maximum operating data rate for the transceivers is 8 Mb/s.
As 

\paragraph{Message filtering}

\paragraph{Priority when multiple node sending}